{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "https://tc39.es/dataset/schema/individual.json",
  "title": "Individual Proposal",
  "type": "object",
  "properties": {
    "$schema": {
      "type": "string",
      "const": "https://tc39.es/dataset/schema/individual.json"
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": ["ECMA-262", "ECMA-402", "inactive", "withdrawn", "archived"]
      },
      "minItems": 1,
      "uniqueItems": true,
      "description": "The tags of proposal"
    },
    "stage": {
      "type": "number",
      "minimum": 0,
      "maximum": 4,
      "description": "The stage number of proposal"
    },
    "id": {
      "type": "string",
      "description": "The codename of proposal",
      "pattern": "^proposal-"
    },
    "name": {
      "type": "string",
      "description": "The display name of proposal"
    },
    "description": {
      "type": "string",
      "description": "The description of proposal"
    },
    "authors": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "minItems": 1,
      "uniqueItems": true,
      "description": "List of Authors"
    },
    "champions": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "minItems": 1,
      "uniqueItems": true,
      "description": "List of Champion"
    },
    "notes": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/note"
      },
      "minItems": 1,
      "uniqueItems": true,
      "description": "List of tc39 notes"
    },
    "tests": {
      "type": "array",
      "items": {
        "type": "string",
        "format": "uri",
        "pattern": "^https\\:\\/\\/github\\.com\\/tc39\\/test262\\/(pull|issues)\\/\\d+$"
      },
      "minItems": 1,
      "uniqueItems": true,
      "description": "List of tc39 tests"
    },
    "has-specification": {
      "type": "boolean",
      "description": "Has specification (spec.emu available)"
    },
    "snippets": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/code_snippet"
      },
      "minItems": 1,
      "uniqueItems": true,
      "description": "Provide example code for tc39.es show code"
    },
    "polyfills": {
      "type": "array",
      "items": {
        "type": "string",
        "format": "uri"
      },
      "minItems": 1,
      "uniqueItems": true,
      "description": "List of polyfill urls"
    },
    "support": {
      "anyOf": [
        {
          "$ref": "#/definitions/support_block",
          "description": "MDN Support data definition (Browser platform)"
        },
        {
          "type": "object",
          "propertyNames": {
            "enum": ["babel", "chakracore", "engine262", "graaljs", "hermes", "javascriptcore", "nashorn", "quickjs", "spidermonkey", "typescript", "v8"]
          },
          "additionalProperties": {
            "$ref": "#/definitions/support_statement"
          },
          "description": "TC39 Support data definition (JavaScript engine)"
        }
      ]
    },
    "rationale": {
      "type": "string",
      "description": "inactive / withdrawn / archived proposal rationale"
    },
    "edition": {
      "description": "available edition of ECMAScript (stage 4 only)",
      "oneOf": [
        {
          "type": "number",
          "minimum": 5,
          "maximum": 1000
        },
        {
          "type": "number",
          "minimum": 2015,
          "maximum": 2999
        }
      ]
    }
  },
  "additionalProperties": false,
  "required": ["tags", "name", "stage", "authors"],
  "definitions": {
    "code_snippet": {
      "type": "object",
      "description": "Code Snippet",
      "properties": {
        "name": {
          "type": "string",
          "description": "Introduction"
        },
        "description": {
          "type": "string",
          "description": "Description"
        },
        "filepath": {
          "type": "string",
          "description": "File path"
        }
      },
      "additionalProperties": false,
      "required": ["name", "filepath"]
    },
    "note": {
      "type": "object",
      "properties": {
        "date": {
          "type": "string",
          "format": "date-time",
          "description": "Meeting date"
        },
        "url": {
          "type": "string",
          "format": "uri",
          "pattern": "^https\\:\\/\\/github\\.com\\/tc39\\/notes",
          "description": "Meeting link"
        }
      },
      "additionalProperties": false,
      "required": ["date", "url"]
    },
    "support_block": {
      "$ref": "https://raw.githubusercontent.com/mdn/browser-compat-data/master/schemas/compat-data.schema.json#/definitions/support_block"
    },
    "support_statement": {
      "$ref": "https://raw.githubusercontent.com/mdn/browser-compat-data/master/schemas/compat-data.schema.json#/definitions/support_statement"
    },
    "simple_support_statement": {
      "$ref": "https://raw.githubusercontent.com/mdn/browser-compat-data/master/schemas/compat-data.schema.json#/definitions/simple_support_statement"
    },
    "array_support_statement": {
      "$ref": "https://raw.githubusercontent.com/mdn/browser-compat-data/master/schemas/compat-data.schema.json#/definitions/array_support_statement"
    },
    "version_value": {
      "$ref": "https://raw.githubusercontent.com/mdn/browser-compat-data/master/schemas/compat-data.schema.json#/definitions/version_value"
    }
  }
}
